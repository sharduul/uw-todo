<li class="card" 
    [attr.card-id]="card._id"
    [attr.card-order]="card.order"
    (click)="editCard()">
    <div class="card-name">
        <span [innerHtml]="card.title" 
            [style.display]="editingCard ? 'none' : ''">
        </span>

        <div class="card-actions">
            <i class="fa fa-trash card-delete-btn" (click)="deleteCard($event)" 
                [style.display]="editingCard ? 'none' : ''"></i>

            <i class="fa fa-copy card-copy-btn" (click)="copy($event)" 
                [style.display]="editingCard ? 'none' : ''"></i>

            <i class="fa fa-pencil card-edit-btn" (click)="editCardDetails($event)" 
                [style.display]="editingCard ? 'none' : ''"></i>
        </div>
    </div>
    
    <textarea
        [style.display]="editingCard ? '' : 'none' "
        (keydown)="blurOnEnter($event)"
        (blur)="updateCard()"
        [(ngModel)]="card.title" ></textarea>
    
</li>
<div class="card-details" [style.display]="editingCardDetails ? '' : 'none' ">
    <div class="input-group card-effort">
        <label>Effort</label>
        <select class="form-control" name="status" 
            (change)="updateCard()" [(ngModel)]="card.effort">
            <option  [value]="2" [selected]="card.effort == 2">2</option>
            <option  [value]="3" [selected]="card.effort == 3">3</option>
            <option  [value]="5" [selected]="card.effort == 5">5</option>
            <option  [value]="8" [selected]="card.effort == 8">8</option>
            <option  [value]="13" [selected]="card.effort == 13">13</option>
        </select>
    </div>

    <div class="input-group card-description">
        <label>Description</label>
        <textarea
            class="description"
            (keydown)="blurOnEnter($event)"
            (blur)="updateCard()"
            [(ngModel)]="card.description" ></textarea>
    </div>

    <div class="input-group card-startDate">
        <label>Start Date</label>
        <input type="date" name="startDate" 
            class="date-picker"
            (keydown)="blurOnEnter($event)"
            (blur)="updateCard()"
            [(ngModel)]="card.startDate">
    </div>

    <div class="input-group card-done">
        <button class="btn btn-primary" 
            *ngIf="!card.isDone"
            (click)="markDone()"
            type="submit">Mark as Done</button>

        <button class="btn btn-primary"
            *ngIf="card.isDone" 
            (click)="markDone()"
            type="submit">Mark as Todo</button>
    </div>

</div>